<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no, user-scalable=no">
    <title>Lira Kurdi | Bilgi Merkezi</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,500,0,0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <style>
        :root {
            --bg-color: #f4f4f5; --text-color: #18181b;
            --secondary-bg-color: #ffffff; --hint-color: #71717a;
            --primary-color: #2563eb; --primary-text-color: #ffffff;
            --border-color: #e4e4e7;
        }
        html.dark {
            --bg-color: #000000; --text-color: #fafafa;
            --secondary-bg-color: #18181b; --hint-color: #a1a1aa;
            --primary-color: #3b82f6; --primary-text-color: #fafafa;
            --border-color: #27272a;
        }
        body {
            font-family: 'Inter', sans-serif; background-color: var(--bg-color);
            color: var(--text-color); transition: background-color 0.2s ease, color 0.2s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .card { background-color: var(--secondary-bg-color); border: 1px solid var(--border-color); }
        .btn-primary { background-color: var(--primary-color); color: var(--primary-text-color); }
        .btn-secondary { color: var(--primary-color); border-color: var(--primary-color); }
        .lang-btn.active { background-color: var(--primary-color); color: var(--primary-text-color); }
        @keyframes pulse { 50% { opacity: .7; } }
        .skeleton { animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; background-color: rgba(128,128,128,0.2); border-radius: 0.375rem; }
        
        .collapsible-content {
            display: grid;
            overflow: hidden;
            transition: grid-template-rows 0.3s ease-in-out;
            grid-template-rows: 0fr;
        }
        .collapsible.open .collapsible-content {
            grid-template-rows: 1fr;
        }
        .collapsible-inner {
            min-height: 0;
            padding-top: 1rem;
        }
        .collapsible.open .chevron-icon { transform: rotate(180deg); }
        .chevron-icon { transition: transform 0.3s ease-in-out; }
        .copy-trigger:active { transform: scale(0.98); background-color: rgba(128, 128, 128, 0.1); }
    </style>
</head>
<body class="min-h-screen">
    
    <header class="max-w-3xl mx-auto p-4 flex items-center justify-between">
        <div class="flex items-center gap-4">
             <img src="https://storage.dyor.io/jettons/images/1741602289/05822800.jpeg" alt="Lira Kurdi Logo" class="w-12 h-12 rounded-full shadow-lg">
             <div>
                <h1 class="text-xl font-bold tracking-tight">Lira Kurdi</h1>
                <p class="hint-color font-mono text-xs">$LKURD</p>
            </div>
        </div>
        <div id="language-switcher" class="flex items-center border border-zinc-200 dark:border-zinc-700 rounded-full p-0.5 text-xs font-bold">
            <button data-lang="tr" class="lang-btn px-2.5 py-1 rounded-full transition-colors">TR</button>
            <button data-lang="en" class="lang-btn px-2.5 py-1 rounded-full transition-colors">EN</button>
            <button data-lang="ku" class="lang-btn px-2.5 py-1 rounded-full transition-colors">KU</button>
        </div>
    </header>

    <main class="max-w-3xl mx-auto p-4 space-y-6 pb-24">
        
        <div class="card p-4 rounded-2xl shadow-sm">
            <h2 class="font-bold text-lg mb-4" data-translate-key="core_info">Temel Bilgiler</h2>
            <div class="space-y-4">
                <div class="info-item"><label class="text-sm font-medium hint-color" data-translate-key="total_supply">Toplam Arz</label><strong id="data-total-supply" class="block text-lg font-mono truncate mt-1"><span class="skeleton w-48 h-7 inline-block"></span></strong></div>
                <hr class="border-t" style="border-color: var(--border-color);" />
                <div class="info-item"><label class="text-sm font-medium hint-color" data-translate-key="contract_address">Kontrat Adresi</label><p id="contract-address" class="font-mono text-sm break-all mt-1">EQDVazmnZdangGkxS8Leytry3xkdYL6LjOIGsy_yGesS5vap</p><div class="flex items-stretch gap-2 mt-3"><button data-clipboard-target="#contract-address" class="copy-btn w-full text-sm font-semibold rounded-lg py-2 border-2 btn-secondary transition-opacity hover:opacity-80" data-translate-key="copy">Kopyala</button><a href="#" id="contract-explorer-link" target="_blank" class="w-full text-sm font-semibold rounded-lg py-2 text-center btn-primary transition-opacity hover:opacity-90" data-translate-key="view_on_explorer">Görüntüle</a></div></div>
                <hr class="border-t" style="border-color: var(--border-color);" />
                <div class="info-item"><label class="text-sm font-medium hint-color" data-translate-key="owner_address">Sahip Adresi</label><p id="owner-address" class="font-mono text-sm break-all mt-1">UQB2hUHdOFJHUwZRYsKRBO4kJeufMHbmaBC1WOPIkxRPIOcC</p><div class="flex items-stretch gap-2 mt-3"><button data-clipboard-target="#owner-address" class="copy-btn w-full text-sm font-semibold rounded-lg py-2 border-2 btn-secondary transition-opacity hover:opacity-80" data-translate-key="copy">Kopyala</button><a href="#" id="owner-explorer-link" target="_blank" class="w-full text-sm font-semibold rounded-lg py-2 text-center btn-primary transition-opacity hover:opacity-90" data-translate-key="view_on_explorer">Görüntüle</a></div></div>
            </div>
        </div>

        <div class="card p-4 rounded-2xl shadow-sm">
            <h2 class="font-bold text-lg" data-translate-key="project_wallets">Proje Cüzdanları</h2>
            <div id="wallets-container" class="mt-4 space-y-2"></div>
        </div>

        <div id="community-collapsible" class="collapsible card rounded-2xl shadow-sm">
            <button id="community-toggle" class="w-full flex items-center justify-between p-4">
                <h2 class="font-bold text-lg" data-translate-key="community_contact">Topluluk & İletişim</h2>
                <span class="material-symbols-outlined chevron-icon">expand_more</span>
            </button>
            <div class="collapsible-content">
                <div id="community-container" class="collapsible-inner grid grid-cols-1 sm:grid-cols-2 gap-2 px-4 pb-4"></div>
            </div>
        </div>

    </main>

    <script type="module">
        // --- CONFIG ---
        const JETTON_ADDRESS = 'EQDVazmnZdangGkxS8Leytry3xkdYL6LjOIGsy_yGesS5vap';
        const OWNER_ADDRESS = 'UQB2hUHdOFJHUwZRYsKRBO4kJeufMHbmaBC1WOPIkxRPIOcC';
        const WALLET_ICONS = {
            BTC: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8 text-orange-400"><path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM9.515 11.622c.384-.928.913-1.573 1.588-1.954a.823.823 0 011.026.284.823.823 0 01-.284 1.026c-.498.287-.852.755-1.118 1.348-.266.593-.38 1.23-.38 1.884s.114 1.291.38 1.884c.266.593.62 1.061 1.118 1.348a.823.823 0 01.284 1.026.823.823 0 01-1.026.284c-.675-.38-1.204-1.026-1.588-1.954V15.5a.825.825 0 01-1.65 0v-1.125h-.938a.825.825 0 010-1.65h.938V11.6c0-.534 0-1.067.015-1.595a.825.825 0 011.65 0v1.617zM14.485 12.377c-.384.928-.913 1.573-1.588 1.954a.823.823 0 01-1.026-.284.823.823 0 01.284-1.026c.498-.287.852-.755 1.118-1.348.266-.593.38-1.23.38-1.884s-.114-1.291-.38-1.884c-.266-.593-.62-1.061-1.118-1.348a.823.823 0 01-.284-1.026.823.823 0 011.026-.284c.675.38 1.204 1.026 1.588 1.954V8.5a.825.825 0 011.65 0v1.125h.938a.825.825 0 010 1.65h-.938v1.125c0 .534 0 1.067-.015 1.595a.825.825 0 01-1.65 0v-1.618z" clip-rule="evenodd"></path></svg>`,
            ETH: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8 text-gray-400"><path d="M1.5 12.563v-1.125a11.25 11.25 0 0111.25-11.25 11.25 11.25 0 0111.25 11.25v1.125c0 5.59-3.926 10.27-9.286 11.085a.75.75 0 01-.828-.622 9.75 9.75 0 00-1.922 0 .75.75 0 01-.828.622C5.426 22.833 1.5 18.153 1.5 12.563zM12 12.375L8.25 10.5l3.75-7.125 3.75 7.125L12 12.375zM12 13.5l3.75 1.875-3.75 5.25-3.75-5.25L12 13.5z"></path></svg>`,
            SOL: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8" style="color: #9945FF;"><path d="M4.75 18.5a.75.75 0 00.75.75h12.5a.75.75 0 000-1.5H5.5a.75.75 0 00-.75.75zM4.75 12a.75.75 0 00.75.75h12.5a.75.75 0 000-1.5H5.5a.75.75 0 00-.75.75zM4.75 5.5a.75.75 0 00.75.75h12.5a.75.75 0 000-1.5H5.5a.75.75 0 00-.75.75z"></path></svg>`,
            TRX: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8 text-red-500"><path d="M12.375 2.25a10.125 10.125 0 1010.125 10.125A10.137 10.137 0 0012.375 2.25zm4.01 9.943l-4.01 2.316v6.946l4.01-2.316v-6.946zm-8.019 0l4.01 2.316v6.946l-4.01-2.316v-6.946zm4.01-7.79l4.01 2.316-4.01 2.316-4.01-2.316 4.01-2.316z"></path></svg>`
        };
        const PROJECT_WALLETS = [
            { network: 'Bitcoin', symbol: 'BTC', address: '127w5aoZtVD7M3LRrxJkC6zNjk2UF6QxKu' },
            { network: 'Ethereum', symbol: 'ETH', address: '0x5b29C538c29A88190F4AEEd479A6D91179dea808' },
            { network: 'Solana', symbol: 'SOL', address: '8Qt3hC52dZBtVyq8eK2Ncn1D2DrKgCjLZC8piRs6gGoA' },
            { network: 'Tron', symbol: 'TRX', address: 'TBQks6yLwX94YY2MdsVr6Y2gSrPeegFZBW' }
        ];
        const COMMUNITY_LINKS = [
            { key: "community_telegram", icon: "fa-telegram", url: "https://t.me/LiraKurdiChat" },
            { key: "community_twitter", icon: "fa-twitter", url: "https://x.com/LiraKurdi" },
            { key: "community_instagram", icon: "fa-instagram", url: "https://www.instagram.com/lirakurdi/" },
            { key: "community_youtube", icon: "fa-youtube", url: "https://www.youtube.com/@LiraKurdi" },
            { key: "community_facebook", icon: "fa-facebook", url: "https://www.facebook.com/LiraKurdiOfficial" },
            { key: "community_tiktok", icon: "fa-tiktok", url: "https://www.tiktok.com/@lira.kurdi" },
            { key: "community_github", icon: "fa-github", url: "https://github.com/LiraKurdi/Lira-Kurdi" },
            { key: "community_email", icon: "fa-envelope", url: "mailto:kurdishlira@gmail.com" }
        ];
        const TRANSLATIONS = {
            tr: {
                core_info: "Temel Bilgiler", total_supply: "Toplam Arz", contract_address: "Kontrat Adresi", owner_address: "Sahip Adresi",
                copy: "Kopyala", copied: "Kopyalandı!", view_on_explorer: "Görüntüle", project_wallets: "Proje Cüzdanları",
                community_contact: "Topluluk & İletişim", community_telegram: "Telegram Sohbet", community_twitter: "X (Twitter)",
                community_instagram: "Instagram", community_youtube: "YouTube", community_facebook: "Facebook", community_tiktok: "TikTok",
                community_github: "GitHub", community_email: "E-Posta"
            },
            en: {
                core_info: "Core Information", total_supply: "Total Supply", contract_address: "Contract Address", owner_address: "Owner Address",
                copy: "Copy", copied: "Copied!", view_on_explorer: "View", project_wallets: "Project Wallets",
                community_contact: "Community & Contact", community_telegram: "Telegram Chat", community_twitter: "X (Twitter)",
                community_instagram: "Instagram", community_youtube: "YouTube", community_facebook: "Facebook", community_tiktok: "TikTok",
                community_github: "GitHub", community_email: "E-Mail"
            },
            ku: {
                core_info: "Agahiyên Bingehîn", total_supply: "Tevahî Pêşkêşî", contract_address: "Navnîşana Peymanê", owner_address: "Navnîşana Xwedî",
                copy: "Kopîkirin", copied: "Hate Kopîkirin!", view_on_explorer: "Bibîne", project_wallets: "Berîkên Projeyê",
                community_contact: "Civak & Têkilî", community_telegram: "Sohbeta Telegram", community_twitter: "X (Twitter)",
                community_instagram: "Instagram", community_youtube: "YouTube", community_facebook: "Facebook", community_tiktok: "TikTok",
                community_github: "GitHub", community_email: "E-name"
            }
        };

        const tg = window.Telegram?.WebApp || {
            ready: () => {}, expand: () => {}, onEvent: () => {},
            colorScheme: window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light',
            initDataUnsafe: { user: { language_code: 'tr' } },
            HapticFeedback: { notificationOccurred: () => {}, impactOccurred: () => {} }
        };
        
        function setLanguage(lang) {
            const translations = TRANSLATIONS[lang] || TRANSLATIONS.tr;
            document.documentElement.lang = lang;
            document.querySelectorAll('[data-translate-key]').forEach(el => {
                const key = el.dataset.translateKey;
                if (translations[key]) {
                    el.textContent = translations[key];
                }
            });
            document.querySelectorAll('#language-switcher .lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
            localStorage.setItem('userLanguage', lang);
        }

        function renderWallets() {
            const container = document.getElementById('wallets-container');
            container.innerHTML = PROJECT_WALLETS.map(wallet => `
                <div data-clipboard-text="${wallet.address}" class="copy-trigger p-3 rounded-xl flex items-center justify-between gap-2 transition-all duration-200 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5">
                    <div class="flex items-center gap-3 min-w-0">
                        <div class="flex-shrink-0 w-10 h-10 flex items-center justify-center">${WALLET_ICONS[wallet.symbol] || ''}</div>
                        <div class="min-w-0">
                            <p class="font-semibold text-sm">${wallet.network}</p>
                            <p class="font-mono text-xs hint-color truncate">${wallet.address}</p>
                        </div>
                    </div>
                    <div class="flex-shrink-0 p-2 rounded-lg">
                        <span class="material-symbols-outlined hint-color">content_copy</span>
                    </div>
                </div>
            `).join('');
        }

        function renderCommunityLinks() {
            const container = document.getElementById('community-container');
            container.innerHTML = COMMUNITY_LINKS.map(link => `
                <a href="${link.url}" target="_blank" class="flex items-center gap-3 p-3 rounded-lg text-sm font-semibold hover:bg-black/5 dark:hover:bg-white/5 transition-colors">
                    <i class="fab ${link.icon} w-5 text-center text-lg hint-color"></i>
                    <span data-translate-key="${link.key}"></span>
                </a>
            `).join('');
        }

        async function fetchAndUpdateSupply() {
            const totalSupplyEl = document.getElementById('data-total-supply');
            try {
                const response = await fetch(`https://tonapi.io/v2/jettons/${JETTON_ADDRESS}`);
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();
                
                const supply = (BigInt(data.total_supply) / BigInt(10 ** data.metadata.decimals)).toString();
                const formattedSupply = parseInt(supply).toLocaleString('en-US');
                totalSupplyEl.textContent = `${formattedSupply} ${data.metadata.symbol}`;
            } catch (error) {
                console.error("Failed to fetch total supply:", error);
                totalSupplyEl.textContent = 'Veri alınamadı';
            }
        }

        function setupCopyListeners() {
            document.body.addEventListener('click', (e) => {
                const trigger = e.target.closest('.copy-btn, .copy-trigger');
                if (!trigger) return;
                
                tg.HapticFeedback.notificationOccurred('success');

                const currentLang = localStorage.getItem('userLanguage') || 'tr';
                let textToCopy = '';

                const targetSelector = trigger.dataset.clipboardTarget;
                if (targetSelector) {
                    textToCopy = document.querySelector(targetSelector)?.textContent || '';
                } else {
                    textToCopy = trigger.dataset.clipboardText || '';
                }
                
                if(!textToCopy) return;

                navigator.clipboard.writeText(textToCopy);

                if (trigger.classList.contains('copy-btn')) {
                    const originalText = TRANSLATIONS[currentLang].copy;
                    const successText = TRANSLATIONS[currentLang].copied;
                    trigger.textContent = successText;
                    setTimeout(() => {
                        trigger.textContent = originalText;
                    }, 2000);
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            tg.ready(); tg.expand();
            
            const applyTheme = () => {
                const theme = tg.colorScheme === 'dark' ? 'dark' : 'light';
                document.documentElement.className = theme;
                document.documentElement.style.setProperty('--primary-color', tg.themeParams.button_color || (theme === 'dark' ? '#3b82f6' : '#2563eb'));
                document.documentElement.style.setProperty('--primary-text-color', tg.themeParams.button_text_color || '#ffffff');
            };
            applyTheme();
            tg.onEvent('themeChanged', applyTheme);

            document.getElementById('contract-explorer-link').href = `https://tonviewer.com/${JETTON_ADDRESS}`;
            document.getElementById('owner-explorer-link').href = `https://tonviewer.com/${OWNER_ADDRESS}`;
            
            renderWallets();
            renderCommunityLinks();

            const savedLang = localStorage.getItem('userLanguage');
            const userLang = (tg.initDataUnsafe.user?.language_code || 'tr').split('-')[0];
            const initialLang = savedLang || (TRANSLATIONS[userLang] ? userLang : 'tr');
            setLanguage(initialLang);

            document.querySelectorAll('#language-switcher .lang-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    tg.HapticFeedback.impactOccurred('light');
                    setLanguage(e.currentTarget.dataset.lang);
                });
            });

            const communityCollapsible = document.getElementById('community-collapsible');
            const communityToggle = document.getElementById('community-toggle');
            communityToggle.addEventListener('click', () => {
                tg.HapticFeedback.impactOccurred('light');
                communityCollapsible.classList.toggle('open');
            });

            setupCopyListeners();
            fetchAndUpdateSupply();
        });
    </script>
</body>
</html>
